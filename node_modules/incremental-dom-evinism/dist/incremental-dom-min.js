/**
 * @preserve
 * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
 * @license SPDX-License-Identifier: Apache-2.0
 */
(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports):typeof define==="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!=="undefined"?globalThis:t||self,e(t.IncrementalDOM={}))})(this,function(t){"use strict";
/** @license SPDX-License-Identifier: Apache-2.0 */var d=false;
/** @license SPDX-License-Identifier: Apache-2.0 */var e="key";function o(){return e}function n(t){e=t}function f(t){return t}function r(t,e){if(t===e){return}var n=t;var r=[];while(n&&n!==e){r.push(n.nodeName.toLowerCase());n=n.parentNode}throw new Error("One or more tags were not closed:\n"+r.join("\n"))}function i(t){if(!t){console.warn("patchOuter requires the node have a parent if there is a key.")}}function a(){}function u(t,e,n,r){var i=f(t);var a=f(e);var u=a.nextSibling===n&&a.previousSibling===r;var o=a.nextSibling===i.nextSibling&&a.previousSibling===r;var l=a===i;if(!u&&!o&&!l){throw new Error("There must be exactly one top level call corresponding "+"to the patched element.")}}
/** @license SPDX-License-Identifier: Apache-2.0 */var l=Object.prototype.hasOwnProperty;function c(){}c.prototype=Object.create(null);function v(t,e){return l.call(t,e)}function s(){return new c}function p(t,e){while(t.length>e){t.pop()}}function h(t){var e=new Array(t);p(e,0);return e}
/** @license SPDX-License-Identifier: Apache-2.0 */var g={default:"__default"};function y(t){if(t.lastIndexOf("xml:",0)===0){return"http://www.w3.org/XML/1998/namespace"}if(t.lastIndexOf("xlink:",0)===0){return"http://www.w3.org/1999/xlink"}return null}function m(t,e,n){if(n==null){t.removeAttribute(e)}else{var r=y(e);if(r){t.setAttributeNS(r,e,n)}else{t.setAttribute(e,n)}}}function w(t,e,n){t[e]=n}function b(t,e,n){if(e.indexOf("-")>=0){t.setProperty(e,n)}else{t[e]=n}}function x(t,e,n){var r=t.style;if(typeof n==="string"){r.cssText=n}else{r.cssText="";for(var i in n){if(v(n,i)){b(r,i,n[i])}}}}function A(t,e,n){var r=typeof n;if(r==="object"||r==="function"){w(t,e,n)}else{m(t,e,n)}}function O(){var t=s();t[g.default]=A;t["style"]=x;return t}var D=O();function C(t,e,n,r){var i=r[e]||r[g.default];i(t,e,n)}
/** @license SPDX-License-Identifier: Apache-2.0 */var _={nodesCreated:null,nodesDeleted:null};var S=function t(e){this.created=[];this.deleted=[];this.node=e};S.prototype.markCreated=function t(e){this.created.push(e)};S.prototype.markDeleted=function t(e){this.deleted.push(e)};S.prototype.notifyChanges=function t(){if(_.nodesCreated&&this.created.length>0){_.nodesCreated(this.created)}if(_.nodesDeleted&&this.deleted.length>0){_.nodesDeleted(this.deleted)}};function N(t){return t.nodeType===11||t.nodeType===9}function k(t){return t.nodeType===1}function M(t,e){var n=[];var r=t;while(r!==e){var i=f(r);n.push(i);r=i.parentNode}return n}var E=typeof Node!=="undefined"&&Node.prototype.getRootNode||function(){var t=this;var e=t;while(t){e=t;t=t.parentNode}return e};function T(t){var e=E.call(t);return N(e)?e.activeElement:null}function j(t,e){var n=T(t);if(!n||!t.contains(n)){return[]}return M(n,e)}function I(t,e,n){var r=e.nextSibling;var i=n;while(i!==null&&i!==e){var a=i.nextSibling;t.insertBefore(i,r);i=a}}var P=function t(e,n,r){this._attrsArr=null;this.staticsApplied=false;this.alwaysDiffAttributes=false;this.nameOrCtor=e;this.key=n;this.text=r};P.prototype.hasEmptyAttrsArr=function t(){var e=this._attrsArr;return!e||!e.length};P.prototype.getAttrsArr=function t(e){return this._attrsArr||(this._attrsArr=h(e))};function B(t,e,n,r){var i=new P(e,n,r);t["__incrementalDOMData"]=i;return i}function L(t){return Boolean(t["__incrementalDOMData"])}function K(t,e){var n=t.attributes;var r=n.length;if(!r){return}var i=e.getAttrsArr(r);for(var a=0,u=0;a<r;a+=1,u+=2){var o=n[a];var l=o.name;var f=o.value;i[u]=l;i[u+1]=f}}function R(t,e){if(t["__incrementalDOMData"]){return t["__incrementalDOMData"]}var n=k(t)?t.localName:t.nodeName;var r=o();var i=k(t)&&r!=null?t.getAttribute(r):null;var a=k(t)?i||e:null;var u=B(t,n,a);if(k(t)){K(t,u)}return u}function q(t){R(t);for(var e=t.firstChild;e;e=e.nextSibling){q(e)}}function z(t,e){return R(t,e)}function G(t){f(t["__incrementalDOMData"]);return z(t).key}function U(t){t["__incrementalDOMData"]=null;for(var e=t.firstChild;e;e=e.nextSibling){U(e)}}function V(t,e){if(t==="svg"){return"http://www.w3.org/2000/svg"}if(t==="math"){return"http://www.w3.org/1998/Math/MathML"}if(e==null){return null}if(z(e).nameOrCtor==="foreignObject"){return null}return e.namespaceURI}function W(t,e,n,r){var i;if(typeof n==="function"){i=new n}else{var a=V(n,e);if(a){i=t.createElementNS(a,n)}else{i=t.createElement(n)}}B(i,n,r);return i}function X(t){var e=t.createTextNode("");B(e,"#text",null);return e}function F(t,e,n,r,i){return e==n&&r==i}var H=null;var J=null;var Q=null;var Y=null;var Z=[];var $=F;var tt=[];var et=[];function nt(){return tt}function rt(){return et}function it(t,e,n){var r=z(t,n);return $(t,e,r.nameOrCtor,n,r.key)}function at(t,e,n){if(!t){return null}var r=t;do{if(it(r,e,n)){return r}}while(n&&(r=r.nextSibling));return null}function ut(t){z(t).alwaysDiffAttributes=true}function ot(t,e,n){var r=t;var i=e;while(i!==n){var a=i.nextSibling;r.removeChild(i);H.markDeleted(i);i=a}}function lt(){if(J){return J.nextSibling}else{return Q.firstChild}}function ft(){Q=J;J=null}function ct(){ot(Q,lt(),null);J=Q;Q=Q.parentNode}function vt(){J=lt()}function st(t,e,n){var r;if(t==="#text"){r=X(Y)}else{r=W(Y,Q,t,e);if(n){r.setAttribute("nonce",n)}}H.markCreated(r);return r}function ht(t,e,n){vt();var r=at(J,t,e);var i=r||st(t,e,n);if(i===J){return}if(Z.indexOf(i)>=0){I(Q,i,J)}else{Q.insertBefore(i,J)}J=i}function dt(t,e,n){ht(t,e,n);ft();return Q}function pt(){ct();return J}function gt(){ht("#text",null);return J}function yt(){return Q}function mt(){return Q}function wt(){return lt()}function bt(){return H}function xt(){J=Q.lastChild}function At(s,t){if(t===void 0)t={};var h=t.matches;if(h===void 0)h=F;var e=function(t,e,n){var r=H;var i=Y;var a=Z;var u=tt;var o=et;var l=J;var f=Q;var c=$;Y=t.ownerDocument;H=new S(t);$=h;tt=[];et=[];J=null;Q=t.parentNode;Z=j(t,Q);try{var v=s(t,e,n);if(d);return v}finally{H.notifyChanges();Y=i;H=r;$=c;tt=u;et=o;J=l;Q=f;Z=a}};return e}function Ot(t){return At(function(t,e,n){J=t;ft();e(n);ct();if(d);return t},t)}function Dt(t){return At(function(t,e,n){var r={nextSibling:t};var i=null;var a=null;if(d);J=r;e(n);if(d);if(Q){ot(Q,lt(),t.nextSibling)}return r===J?null:J},t)}var Ct=Ot();var _t=Dt();var St=[];var Nt=0;function kt(t,e,n,r,i){St.push(t);St.push(e);St.push(n);St.push(r);St.push(i)}function Mt(){var t=Nt;var e=St.length;Nt=e;for(var n=t;n<e;n+=5){var r=St[n];r(St[n+1],St[n+2],St[n+3],St[n+4])}Nt=t;p(St,t)}var Et=s();function Tt(t,e,n,r,i,a){if(a===void 0)a=false;var u=!t.length||a;var o=0;for(;o<e.length;o+=2){var l=e[o];if(u){t[o]=l}else if(t[o]!==l){break}var f=e[o+1];if(u||t[o+1]!==f){t[o+1]=f;kt(r,n,l,f,i)}}if(o<e.length||o<t.length){var c=o;for(o=c;o<t.length;o+=2){Et[t[o]]=t[o+1]}for(o=c;o<e.length;o+=2){var v=e[o];var s=e[o+1];if(Et[v]!==s){kt(r,n,v,s,i)}t[o]=v;t[o+1]=s;delete Et[v]}p(t,e.length);for(var h in Et){kt(r,n,h,undefined,i);delete Et[h]}}Mt()}var jt=3;var It=s();function Pt(t,e,n){var r=rt();var i=e.getAttrsArr(r.length);Tt(i,r,t,C,n,e.alwaysDiffAttributes);p(r,0)}function Bt(t,e,n,r){if(e.staticsApplied){return}e.staticsApplied=true;if(!n||!n.length){return}if(e.hasEmptyAttrsArr()){for(var i=0;i<n.length;i+=2){C(t,n[i],n[i+1],r)}return}for(var a=0;a<n.length;a+=2){It[n[a]]=a+1}var u=e.getAttrsArr(0);var o=0;for(var l=0;l<u.length;l+=2){var f=u[l];var c=u[l+1];var v=It[f];if(v){if(n[v]===c){delete It[f]}continue}u[o]=f;u[o+1]=c;o+=2}p(u,o);for(var s in It){C(t,s,n[It[s]],r);delete It[s]}}function Lt(t,e,n){var r=nt();r[0]=t;r[1]=e;r[2]=n}function Kt(t){var e=nt();e[1]=t}function Rt(t,e){var n=rt();n.push(t);n.push(e)}function qt(){var t=nt();var e=t[2];if(e){for(var n=0;n<e.length;n+=2){if(e[n]==="nonce"){return e[n+1]}}}return""}function zt(){var t=nt();var e=dt(t[0],t[1],qt());var n=z(e);Bt(e,n,t[2],D);Pt(e,n,D);p(t,0);return e}function Gt(t,e,n){var r=arguments;var i=[],a=arguments.length-3;while(a-- >0)i[a]=arguments[a+3];Lt(t,e,n);for(var u=jt;u<arguments.length;u+=2){Rt(r[u],r[u+1])}return zt()}function Ut(t){if(t===void 0)t=D;var e=yt();var n=z(e);Pt(e,n,t)}function Vt(t,e){if(e===void 0)e=D;var n=yt();var r=z(n);Bt(n,r,t,e)}function Wt(t){var e=pt();return e}function Xt(t,e,n){var r=[],i=arguments.length-3;while(i-- >0)r[i]=arguments[i+3];Gt.apply(null,arguments);return Wt()}function Ft(t){var e=arguments;var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];var i=gt();var a=z(i);if(a.text!==t){a.text=t;var u=t;for(var o=1;o<arguments.length;o+=1){var l=e[o];u=l(u)}if(i.data!==u){i.data=u}}return i}t.alignWithDOM=ht;t.alwaysDiffAttributes=ut;t.applyAttr=m;t.applyAttrs=Ut;t.applyProp=w;t.applyStatics=Vt;t.attr=Rt;t.attributes=D;t.clearCache=U;t.close=pt;t.createAttributeMap=O;t.createPatchInner=Ot;t.createPatchOuter=Dt;t.currentContext=bt;t.currentElement=yt;t.currentPointer=wt;t.elementClose=Wt;t.elementOpen=Gt;t.elementOpenEnd=zt;t.elementOpenStart=Lt;t.elementVoid=Xt;t.getKey=G;t.importNode=q;t.isDataInitialized=L;t.key=Kt;t.notifications=_;t.open=dt;t.patch=Ct;t.patchInner=Ct;t.patchOuter=_t;t.setKeyAttributeName=n;t.skip=xt;t.skipNode=vt;t.symbols=g;t.text=Ft;t.tryGetCurrentElement=mt;Object.defineProperty(t,"__esModule",{value:true})});
//# sourceMappingURL=true