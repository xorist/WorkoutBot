import { unpermissifyOptional, unpermissifyChildren } from "../unpermissify";
// This is a dangerous function.
export const isPermissiveChildrenOrFunctionOrArray = (children) => {
    if (!children) {
        return false;
    }
    else if (Array.isArray(children)) {
        return true;
    }
    else if (children._oceanic) {
        return true;
    }
    else if (typeof children === "function") {
        return true;
    }
    else if (typeof children === "string") {
        return true;
    }
    return false;
};
export const tag = (tag) => (...args) => {
    let props;
    let children = undefined;
    if (args.length === 0) {
        props = undefined;
        children = undefined;
    }
    else if (args.length === 1) {
        const arg = args[0];
        if (isPermissiveChildrenOrFunctionOrArray(arg)) {
            props = undefined;
            children = unpermissifyChildren(arg);
        }
        else {
            props = arg;
            children = undefined;
        }
    }
    else {
        props = unpermissifyOptional(args[0]);
        children = unpermissifyChildren(args[1]);
    }
    return {
        _oceanic: true,
        type: "element",
        tag,
        children,
        props: props || {},
    };
};
;
;
;
